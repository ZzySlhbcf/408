# 5.1.1 CPU的功能

1. 指令控制：完成指令、分析指令和执行指令的操作, 即程序的顺序控制
2. 操作控制: 产生一条指令所需要的操作信号, 并把操作信号送到CPU响应的执行部件
3. 时序控制：对各种操作加以时间上的控制。时间控制要为每条指令按时间顺序提供应有的控制信号
4. 中断处理：对运行过程中出现的异常情况和特殊请求进行处理
5. 数据加工：对数据进行算术运算和逻辑运算


>[!note] n位CPU中的n表示数据总线线数

# 5.1.2 CPU的基本结构

![[CPU的组成.png]]

1. 运算器

运算器主要由算术逻辑单元ALU、暂存器、累加寄存器ACC、通用寄存器组GPRs、程序状态字PSW寄存器、位移寄存器、计数器CT等组成

2. 控制器

控制器主要由程序计数器PC、指令寄存器IR、指令译码器ID、时序电路和微操作信号发生器、存储器地址寄存器MAR、存储器数据寄存器MDR组成

# 5.1.3 CPU的寄存器

+ 可见寄存器: 通用寄存器组 (含基址/变址寄存器)、PSW、PC
+ 不可见寄存器: MDR、MAR、IR、暂存寄存器、累加寄存器、位移寄存器

## 运算器中的寄存器

1. 通用寄存器组  (GPRs): **用于存放操作数 (包括源操作数、目的操作数及中间结果) 和各种地址信息等**,  如AX、BX、CX、DX、SP等
   在指令中要指定寄存器的编号,  才能明确是对哪个寄存器进行访问
   **SP是堆栈指针,  用于指示栈顶的地址**
   >[!note] 通用寄存器的位数取决于机器字长
2. 累加寄存器  (ACC): 它是一个通用寄存器,  **用于暂时存放ALU运算的结果**
3. 移位寄存器 (SR): 不但可用来**存放操作数, 而且在控制信号的作用下, 寄存器中的数据可根据需要向左或向右移位**
4) 暂存寄存器: 用于暂存从数据总线或通用寄存器送来的操作数, 以便在取出下一个操作数时将其同时送入ALU
   **暂存寄存器对应用程序员是透明的 (不可见)** 
5) 程序状态字 (PSW) 寄存器: 保留由算术/逻辑运算指令或测试指令的运行结果而建立的各种状态信息, 如溢出标志 (OF)、符号标志 (SF)、零标志 (ZF)、进位标志 (CF) 等
   每个标志位通常由一位触发器来保存, 这些标志位组合在一起称为程序状态字。
## 控制器中的寄存器

1. 程序计数器 (PC): **用于指出欲执行指令在主存储器中的存放地址**
   **若PC和主存储器均按字节编址, 则PC的位数等于主存储器地址位数**
   CPU根据PC的内容从主存储器中取指令, 然后送入指令寄存器
   指令通常是顺序执行的, 因此PC具有自动加1的功能 (这里的"1"是指一条指令的字节数)
   当遇到转移类指令时, PC的新值由指令计算得到
   >[!note] PC的位数取决于存储器的容量和机器字长
2. 指令寄存器 (IR): 用于保存当前正在执行的指令, 
   **IR的位数等于指令字长**

