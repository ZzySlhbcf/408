# 5.2.1 指令周期

一条指令从取出到执行完成所需的时间

CPU访问一次内存所花的时间较长, 因此通常用内存中读取一个指令字的最短时间来规定CPU周期 (存取周期)

时钟周期->CPU/机器周期->指令周期

![[指令周期.png]]

>[!attention] 中断周期中的进栈操作是将SP减"1"
>计算机中的堆栈都是向低地址方向增长的, 所以进栈是减"1"
# 5.2.2 指令周期的数据流

## 取指周期

> 根据PC中的内容从主存储器中取出代码并存放在IR中, 这个操作是控制器自动执行的

2. PC①MAR②地址总线③存储器
3. CU发出读命令控制总线主存储器
4. 主存储器数据总线MDRIR (存放指令)
5. CU发出控制信号PC加1

![[取址周期的数据流.png]]

>[!info] 在指令长度相同的情况下, 所有指令的取指操作是相同的
>

## 间址周期

> 取操作数有效地址

6. Ad(IR)(或MDR)①MAR②地址总线③主存储器 Ad(IR)表示取出IR中存放的指令字的地址字段
7. CU发出读命令④控制总线⑤主存储器
8. 主存储器⑥数据总线⑦MDR (存放有效地址)

![[间址周期的数据流.png]]

## 执行周期

> 取操作数, 根据IR中的指令字的操作码通过ALU操作产生执行结果

## 中断周期

> 处理中断请求

1. CU控制将SP减1, SP①MAR②地址总线③主存储器
2. CU发出写命令④控制总线⑤主存储器
3. PC⑥MDR⑦数据总线⑧主存储器 (程序断点存入主存储器
4. CU (中断服务程序的入口地址)⑨PC

![[中断周期的数据流.png]]

# 5.2.3 指令执行方案

## 单周期处理器

所有指令都选用相同的执行时间来完成, 指令之间串行执行, CPI=1

**指令周期取决于执行时间最长的指令的执行时间, 会降低整个系统的运行速度**

在一个时钟周期内, 控制器发出的信号不可以改变
## 多周期处理器

对不同类型指令选用不同的执行步骤, 可选用不同个时钟周期来完成不同指令的执行过程, CPI>1

仍是串行执行的

> 单周期CPU执行任何指令的时间不一定都会小于多周期, 这取决于单周期CPU和多周期CPU的时钟周期的长短, 以及该指令在多周期CPU下所需的时钟周期数

## 流水线处理器

并行执行

