# 3.4.1 磁盘存储器

1. 存储容量大, 位价低
2. 记录介值可重复使用
3. 记录信息可长期保存而不丢失, 甚至可以脱机存档
4. 非破坏性读出, 读出时不需要再生
5. 存取时间慢, 机械结构复杂, 对工作环境要求较高

## 磁盘存储器

### 磁盘设备的组成

1. 磁盘存储器: 磁盘驱动器、磁盘控制器和盘片
   + 磁盘驱动器: 驱动磁盘转动并在盘面上通过磁头进行读写操作的装置
   + 磁盘控制器: 磁盘驱动器与主机的接口, 负责接收并解释CPU发来的命令, 向磁盘驱动器发出各种控制信号, 并负责检测磁盘驱动器的状态
1. 存储区域: 记录面->磁道->扇区(块): 磁盘最小的读写单位
   + 磁头数(Head): 记录面数, 有多少个磁头, 磁头用于读取盘片上记录面的信息和写入信息
   + 柱面数: 有多少条磁道, 不同记录面的相同编号位置的磁道构成一个圆柱面
   + 扇区数: 表示每条磁道上有多少个扇区

>[!note] 相邻磁道及扇区间通过一定的间隔分开, 以避免精度错误
>扇区按固定圆心角度划分, 位密度从最外道向里道增加, 磁盘的存储能力受限于最内道的最大记录密度

3. 磁盘高速缓存: 在内存中开辟一部分区域, 用于缓冲将被送到磁盘上的数据
   + 写磁盘是按"簇"进行的, 可以避免频繁地用小块数据写盘
   + 有些中间结果数据在写回磁盘之前可被快速利用
### 磁记录原理

> 磁头和磁性记录介值相对运动时吗通过电磁转换完成读写操作

编码方式: 按某种规律, 把一传二进制数据变换成存储介值磁层中一个磁化翻转状态地序列, 并使读写控制电路容易、可靠地实现转换
磁记录方式: 调频制 (FM)和改进型调频制 (MFM)

### 磁盘的性能指标

记录密度: 单位面积上地二进制数据量, 道密度、位密度和面密度

磁盘容量: 
+ 非格式化容量: 磁记录表面可利用地磁化单元总数=记录面数\*柱面数\*每条磁道的磁化单元数
+ 格式化容量: 按照某种特定的记录格式所能存储的信息总量=记录面数\*柱面数\*每道扇区数\*每个扇区的容量

存取时间: 寻道时间(磁道)、旋转延迟时间(扇区)、传输时间
+ 寻道时间取从外到内的时间的一半、旋转延迟时间取旋转半周的时间

数据传输速率: 单位时间向主机传送数据的字节数
+ 假设磁盘的转速位r转/s, 每条磁道容量为N字节
$$
D_{r}=rN
$$

### 磁盘地址

![[磁盘地址结构的计算.png]]

### 磁盘的工作过程

寻址、读盘、写盘,  每一个操作都对应一个控制字

取控制字->执行控制字

>[!note] 磁盘的读写操作是串行的吗不可能即读又写, 也不可能读或写两组数据
## 磁盘阵列

# 3.4.2 固态硬盘

## 固态硬盘的特性

## 磨损均衡