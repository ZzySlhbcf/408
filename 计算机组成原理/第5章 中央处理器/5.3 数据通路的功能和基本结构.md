
# 5.3.1 数据通路的功能

**数据通路**: 数据在指令执行过程中所经过的路径, 包括路径上的部件
数据通路由**控制部件**控制

# 5.3.2 数据通路的组成

## 组合逻辑元件

**组合逻辑元件不含存储信号的记忆单元**, 也不受时钟信号的控制, IO之间无反馈通路, 信号是单向传输的

常用的组合逻辑元件有加法器、ALU、译码器、多路选择器、三态门等

>[!attention] 组合逻辑单元没有记忆单元, 输入输出端必须同时有效
>ALU的输出端不能与总线相连, 否则输出会通过总线反馈到输入端

>[!info] 三态门
>由控制信号EN决定信号线的通断

## 时序逻辑单元

任何使时刻的输出不仅与该时刻的输入有关, 还与该时刻以前的输入有关, **必须包含存储信号的记忆单元**

各类寄存器和存储器, 如通用寄存器、PC、状态/位移/暂存/锁存寄存器等

# 5.3.3 数据通路的基本结构

## CPU内部单总线

![[单总线的数据通路和控制信号.png]]

>[!attention] 单周期处理器(CPI=1)不能采用单总线的方式, 单总线将所有寄存器都连接到一条公共总线上, 一个时钟只允许一次操作, 无法完成一条指令的所有操作

## CPU内部多总线方式

将所有寄存器的输入输出端都连接在多条公共通路商

## 专用数据通路方式

数据和地址流动方向安排连接单路, 避免共享总线

>[!attention] 
>1. 内部总线是指同一部件之间的总线
>2. 系统总线是同一台计算机系统各部件互相连接的总线
# 5.3.4 数据通路的操作举例

1. 通用寄存器之间传输数据
```
(PC)->MAR  PCout和MARin有效时
```
2. 从主存读取数据
```
(PC)->MAR
MEM(MAR)0>MDR, (PC)+1->PC
(MDR)->IR
```
3. 将数据写入主存
```
(R1)->MDR
(R2)->MAR
MDR->MEM(MAR)
```
4. 执行算术或逻辑运算
```
(R1)->Y
(ACC)+(Y)->2
(Z)->ACC
```
5. 修改程序计数器的值
```
```